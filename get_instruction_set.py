import pickle

fp = open('output/opcodes')
result = set()
for line in fp.readlines():
    sequence, is_malware = line.split(';')
    is_malware = bool(is_malware)
    sequence = sequence.split(" ")
    sequence = [opcode for opcode in sequence if opcode != ""]
    result = result | set(sequence)
fp.close()

with open('output/instruction_set', 'w') as fp:
    fp.write(str(result))